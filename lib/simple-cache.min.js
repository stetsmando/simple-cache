/** @license SimpleCache v1.X
 * simple-cache.js
 *
 * Author: Stetson Pierce
 *
 * This source code is licensed under the MIT license.
 */
'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var SimpleCache=function(){function a(_ref){var _ref$defaultTtl=_ref.defaultTtl,b=void 0===_ref$defaultTtl?86400000:_ref$defaultTtl,_ref$namespace=_ref.namespace,c=void 0===_ref$namespace?'SC_':_ref$namespace,_ref$logMessages=_ref.logMessages;_classCallCheck(this,a),this.defaultTtl=b,this.namespace=c,this.logMessages=void 0!==_ref$logMessages&&_ref$logMessages}return _createClass(a,[{key:'get',value:function get(b){this.logMessages&&console.log('SC:Looking up cache for key:'+this.namespace+b);var c=localStorage.getItem(''+this.namespace+b);return c?(c=JSON.parse(c),Date.now()>=c.ttl)?(this.logMessages&&console.log('SC:Item expired, returning null'),null):(this.logMessages&&console.log('SC:Cached Value\nKEY:'+this.namespace+b+'\nVALUE:'+JSON.stringify(c,null,2)),c.value):(this.logMessages&&console.log('SC:No item found'),null)}},{key:'cache',value:function cache(b,c,d){var e=d;e=e&&e.constructor===Date?d.valueOf():new Date(Date.now()+this.defaultTtl).valueOf();var f={value:c,ttl:e};this.logMessages&&console.log('SC:Caching\nKEY: '+this.namespace+b+'\nVALUE: '+JSON.stringify(f,null,2)),localStorage.setItem(''+this.namespace+b,JSON.stringify(f))}},{key:'bust',value:function bust(b){this.logMessages&&console.log('SC:Bust cache for:'+this.namespace+b),localStorage.removeItem(''+this.namespace+b)}}]),a}();exports.default=SimpleCache;
/** @license SimpleCache v2.X
 * simple-cache.js
 *
 * Author: Stetson Pierce
 *
 * This source code is licensed under the MIT license.
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(e,a){for(var s=0;s<a.length;s++){var t=a[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}();function _classCallCheck(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var SimpleCache=function(){function c(e){var a=e.defaultTTL,s=void 0===a?864e5:a,t=e.namespace,l=void 0===t?"SC_":t,n=e.logMessages,o=void 0!==n&&n;_classCallCheck(this,c),this.defaultTTL=s,this.namespace=l,this.logMessages=o}return _createClass(c,[{key:"get",value:function(e){this.logMessages&&console.log("SC:Looking up cache for key:"+this.namespace+e);var a=localStorage.getItem(""+this.namespace+e);return a?(a=JSON.parse(a),Date.now()>=a.ttl?(this.logMessages&&console.log("SC:Item expired, returning null"),localStorage.removeItem(""+this.namespace+e),null):(this.logMessages&&console.log("SC:Cached Value\nKEY:"+this.namespace+e+"\nVALUE:"+JSON.stringify(a,null,2)),a.value)):(this.logMessages&&console.log("SC:No item found"),null)}},{key:"cache",value:function(e,a,s){var t=s,l={value:a,ttl:t=t&&t.constructor===Date?s.valueOf():new Date(Date.now()+this.defaultTTL).valueOf()};this.logMessages&&console.log("SC:Caching\nKEY: "+this.namespace+e+"\nVALUE: "+JSON.stringify(l,null,2)),localStorage.setItem(""+this.namespace+e,JSON.stringify(l))}},{key:"bust",value:function(e){this.logMessages&&console.log("SC:Bust cache for:"+this.namespace+e),localStorage.removeItem(""+this.namespace+e)}}]),c}();exports.default=SimpleCache;